/*
 Chen, Yi-Cyuan 2014-2017
 @license MIT
 Kirill, Fomichev 2014
 @license MIT
 Hakes, Taylor 2014
 @license MIT
*/
(function(I,J){if("object"===typeof exports)"object"===typeof module?module.exports=J(require("js-sha256"),require("base64-js")):exports.keycloak=J(require("js-sha256"),require("base64-js"));else{!function(){function k(b,a){a?(q[0]=q[16]=q[1]=q[2]=q[3]=q[4]=q[5]=q[6]=q[7]=q[8]=q[9]=q[10]=q[11]=q[12]=q[13]=q[14]=q[15]=0,this.blocks=q):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];b?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=
    1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225);this.block=this.start=this.bytes=this.hBytes=0;this.finalized=this.hashed=!1;this.first=!0;this.is224=b}function x(b,a,f){var A;A=typeof b;if("string"===A){var e,c=[],l=b.length,C=0;for(A=0;A<l;++A)128>(e=b.charCodeAt(A))?c[C++]=e:2048>e?(c[C++]=192|e>>6,c[C++]=128|63&e):55296>e||57344<=e?(c[C++]=224|e>>12,c[C++]=128|
    e>>6&63,c[C++]=128|63&e):(e=65536+((1023&e)<<10|1023&b.charCodeAt(++A)),c[C++]=240|e>>18,c[C++]=128|e>>12&63,c[C++]=128|e>>6&63,c[C++]=128|63&e);b=c}else{if("object"!==A)throw Error(d);if(null===b)throw Error(d);if(u&&b.constructor===ArrayBuffer)b=new Uint8Array(b);else if(!(Array.isArray(b)||u&&ArrayBuffer.isView(b)))throw Error(d);}64<b.length&&(b=(new k(a,!0)).update(b).array());e=[];c=[];for(A=0;64>A;++A)l=b[A]||0,e[A]=92^l,c[A]=54^l;k.call(this,a,f);this.update(c);this.oKeyPad=e;this.inner=!0;
    this.sharedMemory=f}var d="input is invalid type",B="object"==typeof window,m=B?window:{};m.JS_SHA256_NO_WINDOW&&(B=!1);var B=!B&&"object"==typeof self,r=!m.JS_SHA256_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;r?m=global:B&&(m=self);var B=!m.JS_SHA256_NO_COMMON_JS&&"object"==typeof module&&module.exports,v="function"==typeof define&&define.amd,u=!m.JS_SHA256_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,a="0123456789abcdef".split(""),n=[-2147483648,8388608,32768,
    128],f=[24,16,8,0],g=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,
    3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],c=["hex","array","digest","arrayBuffer"],q=[];!m.JS_SHA256_NO_NODE_JS&&Array.isArray||(Array.isArray=function(b){return"[object Array]"===Object.prototype.toString.call(b)});!u||!m.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(b){return"object"==typeof b&&b.buffer&&
    b.buffer.constructor===ArrayBuffer});var w=function(b,a){return function(f){return(new k(a,!0)).update(f)[b]()}},Q=function(b){var a=w("hex",b);r&&(a=G(a,b));a.create=function(){return new k(b)};a.update=function(b){return a.create().update(b)};for(var f=0;f<c.length;++f){var g=c[f];a[g]=w(g,b)}return a},G=function(b,a){var f=eval("require('crypto')"),c=eval("require('buffer').Buffer"),e=a?"sha224":"sha256";return function(a){if("string"==typeof a)return f.createHash(e).update(a,"utf8").digest("hex");
    if(null===a||void 0===a)throw Error(d);return a.constructor===ArrayBuffer&&(a=new Uint8Array(a)),Array.isArray(a)||ArrayBuffer.isView(a)||a.constructor===c?f.createHash(e).update(new c(a)).digest("hex"):b(a)}},M=function(b,a){return function(f,c){return(new x(f,a,!0)).update(c)[b]()}},H=function(b){var a=M("hex",b);a.create=function(a){return new x(a,b)};a.update=function(b,f){return a.create(b).update(f)};for(var f=0;f<c.length;++f){var g=c[f];a[g]=M(g,b)}return a};k.prototype.update=function(b){if(!this.finalized){var a,
    c=typeof b;if("string"!==c){if("object"!==c)throw Error(d);if(null===b)throw Error(d);if(u&&b.constructor===ArrayBuffer)b=new Uint8Array(b);else if(!(Array.isArray(b)||u&&ArrayBuffer.isView(b)))throw Error(d);a=!0}for(var g,e=0,q=b.length,l=this.blocks;e<q;){if(this.hashed&&(this.hashed=!1,l[0]=this.block,l[16]=l[1]=l[2]=l[3]=l[4]=l[5]=l[6]=l[7]=l[8]=l[9]=l[10]=l[11]=l[12]=l[13]=l[14]=l[15]=0),a)for(c=this.start;e<q&&64>c;++e)l[c>>2]|=b[e]<<f[3&c++];else for(c=this.start;e<q&&64>c;++e)128>(g=b.charCodeAt(e))?
    l[c>>2]|=g<<f[3&c++]:2048>g?(l[c>>2]|=(192|g>>6)<<f[3&c++],l[c>>2]|=(128|63&g)<<f[3&c++]):55296>g||57344<=g?(l[c>>2]|=(224|g>>12)<<f[3&c++],l[c>>2]|=(128|g>>6&63)<<f[3&c++],l[c>>2]|=(128|63&g)<<f[3&c++]):(g=65536+((1023&g)<<10|1023&b.charCodeAt(++e)),l[c>>2]|=(240|g>>18)<<f[3&c++],l[c>>2]|=(128|g>>12&63)<<f[3&c++],l[c>>2]|=(128|g>>6&63)<<f[3&c++],l[c>>2]|=(128|63&g)<<f[3&c++]);this.lastByteIndex=c;this.bytes+=c-this.start;64<=c?(this.block=l[16],this.start=c-64,this.hash(),this.hashed=!0):this.start=
    c}return 4294967295<this.bytes&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes%=4294967296),this}};k.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var b=this.blocks,a=this.lastByteIndex;b[16]=this.block;b[a>>2]|=n[3&a];this.block=b[16];56<=a&&(this.hashed||this.hash(),b[0]=this.block,b[16]=b[1]=b[2]=b[3]=b[4]=b[5]=b[6]=b[7]=b[8]=b[9]=b[10]=b[11]=b[12]=b[13]=b[14]=b[15]=0);b[14]=this.hBytes<<3|this.bytes>>>29;b[15]=this.bytes<<3;this.hash()}};k.prototype.hash=function(){var b,
    a,c,f,e,q,l,d=this.h0,n=this.h1,k=this.h2,w=this.h3,m=this.h4,h=this.h5,p=this.h6,y=this.h7,z=this.blocks;for(b=16;64>b;++b)a=((e=z[b-15])>>>7|e<<25)^(e>>>18|e<<14)^e>>>3,c=((e=z[b-2])>>>17|e<<15)^(e>>>19|e<<13)^e>>>10,z[b]=z[b-16]+a+z[b-7]+c<<0;l=n&k;for(b=0;64>b;b+=4)this.first?(this.is224?(q=300032,y=(e=z[0]-1413257819)-150054599<<0,w=e+24177077<<0):(q=704751109,y=(e=z[0]-210244248)-1521486534<<0,w=e+143694565<<0),this.first=!1):(a=(d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10),f=(q=d&n)^d&k^l,y=
    w+(e=y+((m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7))+(m&h^~m&p)+g[b]+z[b])<<0,w=e+(a+f)<<0),a=(w>>>2|w<<30)^(w>>>13|w<<19)^(w>>>22|w<<10),f=(l=w&d)^w&n^q,p=k+(e=p+((y>>>6|y<<26)^(y>>>11|y<<21)^(y>>>25|y<<7))+(y&m^~y&h)+g[b+1]+z[b+1])<<0,a=((k=e+(a+f)<<0)>>>2|k<<30)^(k>>>13|k<<19)^(k>>>22|k<<10),f=(c=k&w)^k&d^l,h=n+(e=h+((p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))+(p&y^~p&m)+g[b+2]+z[b+2])<<0,a=((n=e+(a+f)<<0)>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10),f=(l=n&k)^n&w^c,m=d+(e=m+((h>>>6|h<<26)^(h>>>11|
    h<<21)^(h>>>25|h<<7))+(h&p^~h&y)+g[b+3]+z[b+3])<<0,d=e+(a+f)<<0;this.h0=this.h0+d<<0;this.h1=this.h1+n<<0;this.h2=this.h2+k<<0;this.h3=this.h3+w<<0;this.h4=this.h4+m<<0;this.h5=this.h5+h<<0;this.h6=this.h6+p<<0;this.h7=this.h7+y<<0};k.prototype.hex=function(){this.finalize();var b=this.h0,c=this.h1,f=this.h2,g=this.h3,e=this.h4,d=this.h5,l=this.h6,n=this.h7,b=a[b>>28&15]+a[b>>24&15]+a[b>>20&15]+a[b>>16&15]+a[b>>12&15]+a[b>>8&15]+a[b>>4&15]+a[15&b]+a[c>>28&15]+a[c>>24&15]+a[c>>20&15]+a[c>>16&15]+a[c>>
    12&15]+a[c>>8&15]+a[c>>4&15]+a[15&c]+a[f>>28&15]+a[f>>24&15]+a[f>>20&15]+a[f>>16&15]+a[f>>12&15]+a[f>>8&15]+a[f>>4&15]+a[15&f]+a[g>>28&15]+a[g>>24&15]+a[g>>20&15]+a[g>>16&15]+a[g>>12&15]+a[g>>8&15]+a[g>>4&15]+a[15&g]+a[e>>28&15]+a[e>>24&15]+a[e>>20&15]+a[e>>16&15]+a[e>>12&15]+a[e>>8&15]+a[e>>4&15]+a[15&e]+a[d>>28&15]+a[d>>24&15]+a[d>>20&15]+a[d>>16&15]+a[d>>12&15]+a[d>>8&15]+a[d>>4&15]+a[15&d]+a[l>>28&15]+a[l>>24&15]+a[l>>20&15]+a[l>>16&15]+a[l>>12&15]+a[l>>8&15]+a[l>>4&15]+a[15&l];return this.is224||
    (b+=a[n>>28&15]+a[n>>24&15]+a[n>>20&15]+a[n>>16&15]+a[n>>12&15]+a[n>>8&15]+a[n>>4&15]+a[15&n]),b};k.prototype.toString=k.prototype.hex;k.prototype.digest=function(){this.finalize();var b=this.h0,a=this.h1,c=this.h2,f=this.h3,g=this.h4,d=this.h5,l=this.h6,n=this.h7,b=[b>>24&255,b>>16&255,b>>8&255,255&b,a>>24&255,a>>16&255,a>>8&255,255&a,c>>24&255,c>>16&255,c>>8&255,255&c,f>>24&255,f>>16&255,f>>8&255,255&f,g>>24&255,g>>16&255,g>>8&255,255&g,d>>24&255,d>>16&255,d>>8&255,255&d,l>>24&255,l>>16&255,l>>
    8&255,255&l];return this.is224||b.push(n>>24&255,n>>16&255,n>>8&255,255&n),b};k.prototype.array=k.prototype.digest;k.prototype.arrayBuffer=function(){this.finalize();var b=new ArrayBuffer(this.is224?28:32),a=new DataView(b);return a.setUint32(0,this.h0),a.setUint32(4,this.h1),a.setUint32(8,this.h2),a.setUint32(12,this.h3),a.setUint32(16,this.h4),a.setUint32(20,this.h5),a.setUint32(24,this.h6),this.is224||a.setUint32(28,this.h7),b};x.prototype=new k;x.prototype.finalize=function(){if(k.prototype.finalize.call(this),
    this.inner){this.inner=!1;var b=this.array();k.call(this,this.is224,this.sharedMemory);this.update(this.oKeyPad);this.update(b);k.prototype.finalize.call(this)}};var D=Q();D.sha256=D;D.sha224=Q(!0);D.sha256.hmac=H();D.sha224.hmac=H(!0);B?module.exports=D:(m.sha256=D.sha256,m.sha224=D.sha224,v&&define(function(){return D}))}();(function(k){"object"===typeof exports&&"undefined"!==typeof module?module.exports=k():"function"===typeof define&&define.amd?define([],k):("undefined"!==typeof window?window:
    "undefined"!==typeof global?global:"undefined"!==typeof self?self:this).base64js=k()})(function(){return function(){function k(x,d,B){function m(u,a){if(!d[u]){if(!x[u]){var n="function"==typeof require&&require;if(!a&&n)return n(u,!0);if(r)return r(u,!0);a=Error("Cannot find module '"+u+"'");throw a.code="MODULE_NOT_FOUND",a;}a=d[u]={exports:{}};x[u][0].call(a.exports,function(a){return m(x[u][1][a]||a)},a,a.exports,k,x,d,B)}return d[u].exports}for(var r="function"==typeof require&&require,v=0;v<
    B.length;v++)m(B[v]);return m}return k}()({"/":[function(k,x,d){function B(a){var d=a.length;if(0<d%4)throw Error("Invalid string. Length must be a multiple of 4");a=a.indexOf("\x3d");-1===a&&(a=d);return[a,a===d?0:4-a%4]}function m(a,d,f){for(var g=[],c=d;c<f;c+=3)d=(a[c]<<16&16711680)+(a[c+1]<<8&65280)+(a[c+2]&255),g.push(r[d>>18&63]+r[d>>12&63]+r[d>>6&63]+r[d&63]);return g.join("")}d.byteLength=function(a){a=B(a);var d=a[1];return 3*(a[0]+d)/4-d};d.toByteArray=function(a){var d,f=B(a);d=f[0];for(var f=
    f[1],g=new u(3*(d+f)/4-f),c=0,q=0<f?d-4:d,k=0;k<q;k+=4)d=v[a.charCodeAt(k)]<<18|v[a.charCodeAt(k+1)]<<12|v[a.charCodeAt(k+2)]<<6|v[a.charCodeAt(k+3)],g[c++]=d>>16&255,g[c++]=d>>8&255,g[c++]=d&255;2===f&&(d=v[a.charCodeAt(k)]<<2|v[a.charCodeAt(k+1)]>>4,g[c++]=d&255);1===f&&(d=v[a.charCodeAt(k)]<<10|v[a.charCodeAt(k+1)]<<4|v[a.charCodeAt(k+2)]>>2,g[c++]=d>>8&255,g[c++]=d&255);return g};d.fromByteArray=function(a){for(var d=a.length,f=d%3,g=[],c=0,k=d-f;c<k;c+=16383)g.push(m(a,c,c+16383>k?k:c+16383));
    1===f?(a=a[d-1],g.push(r[a>>2]+r[a<<4&63]+"\x3d\x3d")):2===f&&(a=(a[d-2]<<8)+a[d-1],g.push(r[a>>10]+r[a>>4&63]+r[a<<2&63]+"\x3d"));return g.join("")};var r=[],v=[],u="undefined"!==typeof Uint8Array?Uint8Array:Array;for(k=0;64>k;++k)r[k]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[k],v["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(k)]=k;v[45]=62;v[95]=63},{}]},{},[])("/")});!function(k,x){"object"==typeof exports&&"undefined"!=typeof module?x():
    "function"==typeof define&&define.amd?define(x):x()}(0,function(){function k(a){var f=this.constructor;return this.then(function(c){return f.resolve(a()).then(function(){return c})},function(c){return f.resolve(a()).then(function(){return f.reject(c)})})}function x(){}function d(a){if(!(this instanceof d))throw new TypeError("Promises must be constructed via new");if("function"!=typeof a)throw new TypeError("not a function");this._state=0;this._handled=!1;this._value=void 0;this._deferreds=[];u(a,
    this)}function B(a,g){for(;3===a._state;)a=a._value;0!==a._state?(a._handled=!0,d._immediateFn(function(){var c=1===a._state?g.onFulfilled:g.onRejected;if(null!==c){var f;try{f=c(a._value)}catch(w){return void r(g.promise,w)}m(g.promise,f)}else(1===a._state?m:r)(g.promise,a._value)})):a._deferreds.push(g)}function m(a,g){try{if(g===a)throw new TypeError("A promise cannot be resolved with itself.");if(g&&("object"==typeof g||"function"==typeof g)){var c=g.then;if(g instanceof d)return a._state=3,a._value=
    g,void v(a);if("function"==typeof c)return void u(function(a,c){return function(){a.apply(c,arguments)}}(c,g),a)}a._state=1;a._value=g;v(a)}catch(q){r(a,q)}}function r(a,d){a._state=2;a._value=d;v(a)}function v(a){2===a._state&&0===a._deferreds.length&&d._immediateFn(function(){a._handled||d._unhandledRejectionFn(a._value)});for(var f=0,c=a._deferreds.length;c>f;f++)B(a,a._deferreds[f]);a._deferreds=null}function u(a,d){var c=!1;try{a(function(a){c||(c=!0,m(d,a))},function(a){c||(c=!0,r(d,a))})}catch(q){c||
    (c=!0,r(d,q))}}var a=setTimeout;d.prototype["catch"]=function(a){return this.then(null,a)};d.prototype.then=function(a,d){var c=new this.constructor(x);return B(this,new function(a,c,d){this.onFulfilled="function"==typeof a?a:null;this.onRejected="function"==typeof c?c:null;this.promise=d}(a,d,c)),c};d.prototype["finally"]=k;d.all=function(a){return new d(function(d,c){function f(a,m){try{if(m&&("object"==typeof m||"function"==typeof m)){var n=m.then;if("function"==typeof n)return void n.call(m,function(b){f(a,
    b)},c)}g[a]=m;0==--k&&d(g)}catch(b){c(b)}}if(!a||"undefined"==typeof a.length)return c(new TypeError("Promise.all accepts an array"));var g=Array.prototype.slice.call(a);if(0===g.length)return d([]);for(var k=g.length,m=0;g.length>m;m++)f(m,g[m])})};d.resolve=function(a){return a&&"object"==typeof a&&a.constructor===d?a:new d(function(d){d(a)})};d.reject=function(a){return new d(function(d,c){c(a)})};d.race=function(a){return new d(function(f,c){if(!a||"undefined"==typeof a.length)return c(new TypeError("Promise.race accepts an array"));
    for(var g=0,k=a.length;k>g;g++)d.resolve(a[g]).then(f,c)})};d._immediateFn="function"==typeof setImmediate&&function(a){setImmediate(a)}||function(d){a(d,0)};d._unhandledRejectionFn=function(a){void 0!==console&&console&&console.warn("Possible Unhandled Promise Rejection:",a)};var n=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw Error("unable to locate global object");}();"Promise"in n?n.Promise.prototype["finally"]||
    (n.Promise.prototype["finally"]=k):n.Promise=d});var K=J(I.sha256,I.base64js);I.Keycloak=K;"function"===typeof define&&define.amd&&define("keycloak",[],function(){return K})}})(window,function(I,J){function K(){x||(x=!0,console.warn("[KEYCLOAK] Usage of legacy style promise methods such as `.error()` and `.success()` has been deprecated and support will be removed in future versions. Use standard style promise methods such as `.then() and `.catch()` instead."))}function k(d){function B(b,a){var h;
    var c=window.crypto||window.msCrypto;if(c&&c.getRandomValues&&window.Uint8Array)h=new Uint8Array(b),c.getRandomValues(h);else for(h=Array(b),c=0;c<h.length;c++)h[c]=Math.floor(256*Math.random());for(var c=Array(b),p=0;p<b;p++)c[p]=a.charCodeAt(h[p]%a.length);return String.fromCharCode.apply(null,c)}function m(){if("undefined"!==typeof b.authServerUrl)return"/"==b.authServerUrl.charAt(b.authServerUrl.length-1)?b.authServerUrl+"realms/"+encodeURIComponent(b.realm):b.authServerUrl+"/realms/"+encodeURIComponent(b.realm)}
    function r(a,c){function h(h,p,d,t){f=(f+(new Date).getTime())/2;u(h,p,d,f);N&&(b.tokenParsed&&b.tokenParsed.nonce!=a.storedNonce||b.refreshTokenParsed&&b.refreshTokenParsed.nonce!=a.storedNonce||b.idTokenParsed&&b.idTokenParsed.nonce!=a.storedNonce)?(E("[KEYCLOAK] Invalid nonce, clearing token"),b.clearToken(),c&&c.setError()):t&&(b.onAuthSuccess&&b.onAuthSuccess(),c&&c.setSuccess())}var p=a.code,d=a.error,t=a.prompt,f=(new Date).getTime();a.kc_action_status&&b.onActionUpdate&&b.onActionUpdate(a.kc_action_status);
    if(d)"none"!=t?(p={error:d,error_description:a.error_description},b.onAuthError&&b.onAuthError(p),c&&c.setError(p)):c&&c.setSuccess();else if("standard"!=b.flow&&(a.access_token||a.id_token)&&h(a.access_token,null,a.id_token,!0),"implicit"!=b.flow&&p){var p="code\x3d"+p+"\x26grant_type\x3dauthorization_code",d=b.endpoints.token(),e=new XMLHttpRequest;e.open("POST",d,!0);e.setRequestHeader("Content-type","application/x-www-form-urlencoded");p+="\x26client_id\x3d"+encodeURIComponent(b.clientId);p+=
    "\x26redirect_uri\x3d"+a.redirectUri;a.pkceCodeVerifier&&(p+="\x26code_verifier\x3d"+a.pkceCodeVerifier);e.withCredentials=!0;e.onreadystatechange=function(){if(4==e.readyState)if(200==e.status){var a=JSON.parse(e.responseText);h(a.access_token,a.refresh_token,a.id_token,"standard"===b.flow);x()}else b.onAuthError&&b.onAuthError(),c&&c.setError()};e.send(p)}}function v(a){function h(a){b.endpoints=a?{authorize:function(){return a.authorization_endpoint},token:function(){return a.token_endpoint},logout:function(){if(!a.end_session_endpoint)throw"Not supported by the OIDC server";
    return a.end_session_endpoint},checkSessionIframe:function(){if(!a.check_session_iframe)throw"Not supported by the OIDC server";return a.check_session_iframe},register:function(){throw'Redirection to "Register user" page not supported in standard OIDC mode';},userinfo:function(){if(!a.userinfo_endpoint)throw"Not supported by the OIDC server";return a.userinfo_endpoint}}:{authorize:function(){return m()+"/protocol/openid-connect/auth"},token:function(){return m()+"/protocol/openid-connect/token"},
    logout:function(){return m()+"/protocol/openid-connect/logout"},checkSessionIframe:function(){var a=m()+"/protocol/openid-connect/login-status-iframe.html";b.iframeVersion&&(a=a+"?version\x3d"+b.iframeVersion);return a},thirdPartyCookiesIframe:function(){var a=m()+"/protocol/openid-connect/3p-cookies/step1.html";b.iframeVersion&&(a=a+"?version\x3d"+b.iframeVersion);return a},register:function(){return m()+"/protocol/openid-connect/registrations"},userinfo:function(){return m()+"/protocol/openid-connect/userinfo"}}}
    var y=c(),z;d?"string"===typeof d&&(z=d):z="keycloak.json";if(z){var e=new XMLHttpRequest;e.open("GET",z,!0);e.setRequestHeader("Accept","application/json");e.onreadystatechange=function(){if(4==e.readyState)if(200==e.status||0==e.status&&e.responseText&&e.responseURL.startsWith("file:")){var a=JSON.parse(e.responseText);b.authServerUrl=a["auth-server-url"];b.realm=a.realm;b.clientId=a.resource;h(null);y.setSuccess()}else y.setError()};e.send()}else{if(!d.clientId)throw"clientId missing";b.clientId=
    d.clientId;if(a=d.oidcProvider)"string"===typeof a?(a="/"==a.charAt(a.length-1)?a+".well-known/openid-configuration":a+"/.well-known/openid-configuration",e=new XMLHttpRequest,e.open("GET",a,!0),e.setRequestHeader("Accept","application/json"),e.onreadystatechange=function(){if(4==e.readyState)if(200==e.status||0==e.status&&e.responseText&&e.responseURL.startsWith("file:")){var b=JSON.parse(e.responseText);h(b);y.setSuccess()}else y.setError()},e.send()):(h(a),y.setSuccess());else{if(!d.url)for(a=
    document.getElementsByTagName("script"),z=0;z<a.length;z++)if(a[z].src.match(/.*keycloak\.js/)){d.url=a[z].src.substr(0,a[z].src.indexOf("/js/keycloak.js"));break}if(!d.realm)throw"realm missing";b.authServerUrl=d.url;b.realm=d.realm;h(null);y.setSuccess()}}return y.promise}function u(h,c,d,e){b.tokenTimeoutHandle&&(clearTimeout(b.tokenTimeoutHandle),b.tokenTimeoutHandle=null);c?(b.refreshToken=c,b.refreshTokenParsed=a(c)):(delete b.refreshToken,delete b.refreshTokenParsed);d?(b.idToken=d,b.idTokenParsed=
    a(d)):(delete b.idToken,delete b.idTokenParsed);if(h){if(b.token=h,b.tokenParsed=a(h),b.sessionId=b.tokenParsed.session_state,b.authenticated=!0,b.subject=b.tokenParsed.sub,b.realmAccess=b.tokenParsed.realm_access,b.resourceAccess=b.tokenParsed.resource_access,e&&(b.timeSkew=Math.floor(e/1E3)-b.tokenParsed.iat),null!=b.timeSkew&&(E("[KEYCLOAK] Estimated time difference between browser and server is "+b.timeSkew+" seconds"),b.onTokenExpired))if(h=1E3*(b.tokenParsed.exp-(new Date).getTime()/1E3+b.timeSkew),
    E("[KEYCLOAK] Token expires in "+Math.round(h/1E3)+" s"),0>=h)b.onTokenExpired();else b.tokenTimeoutHandle=setTimeout(b.onTokenExpired,h)}else delete b.token,delete b.tokenParsed,delete b.subject,delete b.realmAccess,delete b.resourceAccess,b.authenticated=!1}function a(b){b=b.split(".")[1];b=b.replace(/-/g,"+");b=b.replace(/_/g,"/");switch(b.length%4){case 0:break;case 2:b+="\x3d\x3d";break;case 3:b+="\x3d";break;default:throw"Invalid token";}b=decodeURIComponent(escape(atob(b)));return b=JSON.parse(b)}
    function n(){var b=B(36,"0123456789abcdef").split("");b[14]="4";b[19]="0123456789abcdef".substr(b[19]&3|8,1);b[8]=b[13]=b[18]=b[23]="-";return b.join("")}function f(a){a:{var h;switch(b.flow){case "standard":h=["code","state","session_state","kc_action_status"];break;case "implicit":h="access_token token_type id_token state session_state expires_in kc_action_status".split(" ");break;case "hybrid":h="access_token token_type id_token code state session_state expires_in kc_action_status".split(" ")}h.push("error");
    h.push("error_description");h.push("error_uri");var c=a.indexOf("?"),d=a.indexOf("#"),e,t;"query"===b.responseMode&&-1!==c?(e=a.substring(0,c),t=g(a.substring(c+1,-1!==d?d:a.length),h),""!==t.paramsString&&(e+="?"+t.paramsString),-1!==d&&(e+=a.substring(d))):"fragment"===b.responseMode&&-1!==d&&(e=a.substring(0,d),t=g(a.substring(d+1),h),""!==t.paramsString&&(e+="#"+t.paramsString));if(t&&t.oauthParams)if("standard"===b.flow||"hybrid"===b.flow){if((t.oauthParams.code||t.oauthParams.error)&&t.oauthParams.state){t.oauthParams.newUrl=
    e;a=t.oauthParams;break a}}else if("implicit"===b.flow&&(t.oauthParams.access_token||t.oauthParams.error)&&t.oauthParams.state){t.oauthParams.newUrl=e;a=t.oauthParams;break a}a=void 0}if(a){if(h=L.get(a.state))a.valid=!0,a.redirectUri=h.redirectUri,a.storedNonce=h.nonce,a.prompt=h.prompt,a.pkceCodeVerifier=h.pkceCodeVerifier;return a}}function g(b,a){b=b.split("\x26");for(var h={paramsString:"",oauthParams:{}},c=0;c<b.length;c++){var d=b[c].indexOf("\x3d"),p=b[c].slice(0,d);-1!==a.indexOf(p)?h.oauthParams[p]=
    b[c].slice(d+1):(""!==h.paramsString&&(h.paramsString+="\x26"),h.paramsString+=b[c])}return h}function c(){var b={setSuccess:function(a){b.resolve(a)},setError:function(a){b.reject(a)}};b.promise=new Promise(function(a,h){b.resolve=a;b.reject=h});b.promise.success=function(b){K();this.then(function(a){b(a)});return this};b.promise.error=function(b){K();this.catch(function(a){b(a)});return this};return b}function q(b,a,c){var h=null,d=new Promise(function(b,d){h=setTimeout(function(){d({error:c||"Promise is not settled within timeout of "+
    a+"ms"})},a)});return Promise.race([b,d]).finally(function(){clearTimeout(h)})}function w(){var a=c();if(!e.enable||e.iframe)return a.setSuccess(),a.promise;var d=document.createElement("iframe");e.iframe=d;d.onload=function(){var h=b.endpoints.authorize();"/"===h.charAt(0)?(h=window.location.origin?window.location.origin:window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:""),e.iframeOrigin=h):e.iframeOrigin=h.substring(0,h.indexOf("/",8));a.setSuccess()};
    var f=b.endpoints.checkSessionIframe();d.setAttribute("src",f);d.setAttribute("title","keycloak-session-iframe");d.style.display="none";document.body.appendChild(d);window.addEventListener("message",function(a){if(a.origin===e.iframeOrigin&&e.iframe.contentWindow===a.source&&("unchanged"==a.data||"changed"==a.data||"error"==a.data)){"unchanged"!=a.data&&b.clearToken();for(var h=e.callbackList.splice(0,e.callbackList.length),c=h.length-1;0<=c;--c){var d=h[c];"error"==a.data?d.setError():d.setSuccess("unchanged"==
    a.data)}}},!1);return a.promise}function x(){e.enable&&b.token&&setTimeout(function(){G().then(function(b){b&&x()})},1E3*e.interval)}function G(){var a=c();if(e.iframe&&e.iframeOrigin){var d=b.clientId+" "+(b.sessionId?b.sessionId:"");e.callbackList.push(a);var f=e.iframeOrigin;1==e.callbackList.length&&e.iframe.contentWindow.postMessage(d,f)}else a.setSuccess();return a.promise}function M(){var a=c();if(e.enable||b.silentCheckSsoRedirectUri){var d=document.createElement("iframe");d.setAttribute("src",
    b.endpoints.thirdPartyCookiesIframe());d.setAttribute("title","keycloak-3p-check-iframe");d.style.display="none";document.body.appendChild(d);var f=function(c){d.contentWindow!==c.source||"supported"!==c.data&&"unsupported"!==c.data||("unsupported"===c.data&&(e.enable=!1,b.silentCheckSsoFallback&&(b.silentCheckSsoRedirectUri=!1),R("[KEYCLOAK] 3rd party cookies aren't supported by this browser. checkLoginIframe and silent check-sso are not available.")),document.body.removeChild(d),window.removeEventListener("message",
    f),a.setSuccess())};window.addEventListener("message",f,!1)}else a.setSuccess();return q(a.promise,b.messageReceiveTimeout,"Timeout when waiting for 3rd party check iframe message.")}function H(a){if(!a||"default"==a)return{login:function(a){window.location.replace(b.createLoginUrl(a));return c().promise},logout:function(a){window.location.replace(b.createLogoutUrl(a));return c().promise},register:function(a){window.location.replace(b.createRegisterUrl(a));return c().promise},accountManagement:function(){var a=
    b.createAccountUrl();if("undefined"!==typeof a)window.location.href=a;else throw"Not supported by the OIDC server";return c().promise},redirectUri:function(a,c){1==arguments.length&&(c=!0);return a&&a.redirectUri?a.redirectUri:b.redirectUri?b.redirectUri:location.href}};if("cordova"==a){e.enable=!1;var h=function(a,b,c){return window.cordova&&window.cordova.InAppBrowser?window.cordova.InAppBrowser.open(a,b,c):window.open(a,b,c)},d=function(a){return a&&a.cordovaOptions?Object.keys(a.cordovaOptions).reduce(function(b,
    c){b[c]=a.cordovaOptions[c];return b},{}):{}},g=function(a){return Object.keys(a).reduce(function(b,c){b.push(c+"\x3d"+a[c]);return b},[]).join(",")},k=function(a){var b=d(a);b.location="no";a&&"none"==a.prompt&&(b.hidden="yes");return g(b)};return{login:function(a){var d=c(),e=k(a);a=b.createLoginUrl(a);var p=h(a,"_blank",e),g=!1,t=!1;p.addEventListener("loadstart",function(a){0==a.url.indexOf("http://localhost")&&(a=f(a.url),r(a,d),t=!0,p.close(),g=!0)});p.addEventListener("loaderror",function(a){g||
    (0==a.url.indexOf("http://localhost")?(a=f(a.url),r(a,d),t=!0,p.close(),g=!0):(d.setError(),t=!0,p.close()))});p.addEventListener("exit",function(a){t||d.setError({reason:"closed_by_user"})});return d.promise},logout:function(a){var d=c();a=b.createLogoutUrl(a);var e=h(a,"_blank","location\x3dno,hidden\x3dyes"),p;e.addEventListener("loadstart",function(a){0==a.url.indexOf("http://localhost")&&e.close()});e.addEventListener("loaderror",function(a){0!=a.url.indexOf("http://localhost")&&(p=!0);e.close()});
    e.addEventListener("exit",function(a){p?d.setError():(b.clearToken(),d.setSuccess())});return d.promise},register:function(a){var d=c(),e=b.createRegisterUrl();a=k(a);var p=h(e,"_blank",a);p.addEventListener("loadstart",function(a){0==a.url.indexOf("http://localhost")&&(p.close(),a=f(a.url),r(a,d))});return d.promise},accountManagement:function(){var a=b.createAccountUrl();if("undefined"!==typeof a){var c=h(a,"_blank","location\x3dno");c.addEventListener("loadstart",function(a){0==a.url.indexOf("http://localhost")&&
    c.close()})}else throw"Not supported by the OIDC server";},redirectUri:function(a){return"http://localhost"}}}if("cordova-native"==a)return e.enable=!1,{login:function(a){var h=c();a=b.createLoginUrl(a);universalLinks.subscribe("keycloak",function(a){universalLinks.unsubscribe("keycloak");window.cordova.plugins.browsertab.close();a=f(a.url);r(a,h)});window.cordova.plugins.browsertab.openUrl(a);return h.promise},logout:function(a){var h=c();a=b.createLogoutUrl(a);universalLinks.subscribe("keycloak",
    function(a){universalLinks.unsubscribe("keycloak");window.cordova.plugins.browsertab.close();b.clearToken();h.setSuccess()});window.cordova.plugins.browsertab.openUrl(a);return h.promise},register:function(a){var h=c();a=b.createRegisterUrl(a);universalLinks.subscribe("keycloak",function(a){universalLinks.unsubscribe("keycloak");window.cordova.plugins.browsertab.close();a=f(a.url);r(a,h)});window.cordova.plugins.browsertab.openUrl(a);return h.promise},accountManagement:function(){var a=b.createAccountUrl();
    if("undefined"!==typeof a)window.cordova.plugins.browsertab.openUrl(a);else throw"Not supported by the OIDC server";},redirectUri:function(a){return a&&a.redirectUri?a.redirectUri:b.redirectUri?b.redirectUri:"http://localhost"}};throw"invalid adapter type: "+a;}function D(a){return function(){b.enableLogging&&a.apply(console,Array.prototype.slice.call(arguments))}}if(!(this instanceof k))return new k(d);for(var b=this,C,A=[],L,e={enable:!0,callbackList:[],interval:5},F=document.getElementsByTagName("script"),
    l=0;l<F.length;l++)-1===F[l].src.indexOf("keycloak.js")&&-1===F[l].src.indexOf("keycloak.min.js")||-1===F[l].src.indexOf("version\x3d")||(b.iframeVersion=F[l].src.substring(F[l].src.indexOf("version\x3d")+8).split("\x26")[0]);var N=!0,E=D(console.info),R=D(console.warn);b.init=function(a){function h(){var c=function(a){a||(h.prompt="none");b.login(h).then(function(){n.setSuccess()}).catch(function(a){n.setError(a)})},d=function(){var a=document.createElement("iframe"),c=b.createLoginUrl({prompt:"none",
    redirectUri:b.silentCheckSsoRedirectUri});a.setAttribute("src",c);a.setAttribute("title","keycloak-silent-check-sso");a.style.display="none";document.body.appendChild(a);var d=function(b){b.origin===window.location.origin&&a.contentWindow===b.source&&(b=f(b.data),r(b,n),document.body.removeChild(a),window.removeEventListener("message",d))};window.addEventListener("message",d)},h={};switch(a.onLoad){case "check-sso":e.enable?w().then(function(){G().then(function(a){a?n.setSuccess():b.silentCheckSsoRedirectUri?
    d():c(!1)}).catch(function(a){n.setError(a)})}):b.silentCheckSsoRedirectUri?d():c(!1);break;case "login-required":c(!0);break;default:throw"Invalid value for onLoad";}}function g(){var c=f(window.location.href);c&&window.history.replaceState(window.history.state,null,c.newUrl);if(c&&c.valid)return w().then(function(){r(c,n)}).catch(function(a){n.setError(a)});a?a.token&&a.refreshToken?(u(a.token,a.refreshToken,a.idToken),e.enable?w().then(function(){G().then(function(a){a?(b.onAuthSuccess&&b.onAuthSuccess(),
    n.setSuccess(),x()):n.setSuccess()}).catch(function(a){n.setError(a)})}):b.updateToken(-1).then(function(){b.onAuthSuccess&&b.onAuthSuccess();n.setSuccess()}).catch(function(c){b.onAuthError&&b.onAuthError();a.onLoad?h():n.setError(c)})):a.onLoad?h():n.setSuccess():n.setSuccess()}function k(){var a=c(),b=function(){if("interactive"===document.readyState||"complete"===document.readyState)document.removeEventListener("readystatechange",b),a.setSuccess()};document.addEventListener("readystatechange",
    b);b();return a.promise}b.authenticated=!1;a:{try{L=new O;break a}catch(T){}L=new P}var l=["default","cordova","cordova-native"];C=a&&-1<l.indexOf(a.adapter)?H(a.adapter):a&&"object"===typeof a.adapter?a.adapter:window.Cordova||window.cordova?H("cordova"):H();if(a){"undefined"!==typeof a.useNonce&&(N=a.useNonce);"undefined"!==typeof a.checkLoginIframe&&(e.enable=a.checkLoginIframe);a.checkLoginIframeInterval&&(e.interval=a.checkLoginIframeInterval);"login-required"===a.onLoad&&(b.loginRequired=!0);
    if(a.responseMode)if("query"===a.responseMode||"fragment"===a.responseMode)b.responseMode=a.responseMode;else throw"Invalid value for responseMode";if(a.flow){switch(a.flow){case "standard":b.responseType="code";break;case "implicit":b.responseType="id_token token";break;case "hybrid":b.responseType="code id_token token";break;default:throw"Invalid value for flow";}b.flow=a.flow}null!=a.timeSkew&&(b.timeSkew=a.timeSkew);a.redirectUri&&(b.redirectUri=a.redirectUri);a.silentCheckSsoRedirectUri&&(b.silentCheckSsoRedirectUri=
    a.silentCheckSsoRedirectUri);b.silentCheckSsoFallback="boolean"===typeof a.silentCheckSsoFallback?a.silentCheckSsoFallback:!0;if(a.pkceMethod){if("S256"!==a.pkceMethod)throw"Invalid value for pkceMethod";b.pkceMethod=a.pkceMethod}b.enableLogging="boolean"===typeof a.enableLogging?a.enableLogging:!1;"string"===typeof a.scope&&(b.scope=a.scope);b.messageReceiveTimeout="number"===typeof a.messageReceiveTimeout&&0<a.messageReceiveTimeout?a.messageReceiveTimeout:1E4}b.responseMode||(b.responseMode="fragment");
    b.responseType||(b.responseType="code",b.flow="standard");var m=c(),n=c();n.promise.then(function(){b.onReady&&b.onReady(b.authenticated);m.setSuccess(b.authenticated)}).catch(function(a){m.setError(a)});l=v(d);l.then(function(){k().then(M).then(g).catch(function(a){m.setError(a)})});l.catch(function(a){m.setError(a)});return m.promise};b.login=function(a){return C.login(a)};b.createLoginUrl=function(a){var c=n(),d=n(),e=C.redirectUri(a),h={state:c,nonce:d,redirectUri:encodeURIComponent(e)};a&&a.prompt&&
    (h.prompt=a.prompt);var f;f=a&&"register"==a.action?b.endpoints.register():b.endpoints.authorize();var g=a&&a.scope||b.scope;g?-1===g.indexOf("openid")&&(g="openid "+g):g="openid";c=f+"?client_id\x3d"+encodeURIComponent(b.clientId)+"\x26redirect_uri\x3d"+encodeURIComponent(e)+"\x26state\x3d"+encodeURIComponent(c)+"\x26response_mode\x3d"+encodeURIComponent(b.responseMode)+"\x26response_type\x3d"+encodeURIComponent(b.responseType)+"\x26scope\x3d"+encodeURIComponent(g);N&&(c=c+"\x26nonce\x3d"+encodeURIComponent(d));
    a&&a.prompt&&(c+="\x26prompt\x3d"+encodeURIComponent(a.prompt));a&&a.maxAge&&(c+="\x26max_age\x3d"+encodeURIComponent(a.maxAge));a&&a.loginHint&&(c+="\x26login_hint\x3d"+encodeURIComponent(a.loginHint));a&&a.idpHint&&(c+="\x26kc_idp_hint\x3d"+encodeURIComponent(a.idpHint));a&&a.action&&"register"!=a.action&&(c+="\x26kc_action\x3d"+encodeURIComponent(a.action));a&&a.locale&&(c+="\x26ui_locales\x3d"+encodeURIComponent(a.locale));if(b.pkceMethod){a=B(96,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789");
    h.pkceCodeVerifier=a;a:switch(b.pkceMethod){case "S256":a=new Uint8Array(I.arrayBuffer(a));a=J.fromByteArray(a).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"");break a;default:throw"Invalid value for pkceMethod";}c=c+("\x26code_challenge\x3d"+a)+("\x26code_challenge_method\x3d"+b.pkceMethod)}L.add(h);return c};b.logout=function(a){return C.logout(a)};b.createLogoutUrl=function(a){return b.endpoints.logout()+"?redirect_uri\x3d"+encodeURIComponent(C.redirectUri(a,!1))};b.register=function(a){return C.register(a)};
    b.createRegisterUrl=function(a){a||(a={});a.action="register";return b.createLoginUrl(a)};b.createAccountUrl=function(a){var c=m(),d=void 0;"undefined"!==typeof c&&(d=c+"/account?referrer\x3d"+encodeURIComponent(b.clientId)+"\x26referrer_uri\x3d"+encodeURIComponent(C.redirectUri(a)));return d};b.accountManagement=function(){return C.accountManagement()};b.hasRealmRole=function(a){var c=b.realmAccess;return!!c&&0<=c.roles.indexOf(a)};b.hasResourceRole=function(a,c){if(!b.resourceAccess)return!1;c=
    b.resourceAccess[c||b.clientId];return!!c&&0<=c.roles.indexOf(a)};b.loadUserProfile=function(){var a=m()+"/account",d=new XMLHttpRequest;d.open("GET",a,!0);d.setRequestHeader("Accept","application/json");d.setRequestHeader("Authorization","bearer "+b.token);var e=c();d.onreadystatechange=function(){4==d.readyState&&(200==d.status?(b.profile=JSON.parse(d.responseText),e.setSuccess(b.profile)):e.setError())};d.send();return e.promise};b.loadUserInfo=function(){var a=b.endpoints.userinfo(),d=new XMLHttpRequest;
    d.open("GET",a,!0);d.setRequestHeader("Accept","application/json");d.setRequestHeader("Authorization","bearer "+b.token);var e=c();d.onreadystatechange=function(){4==d.readyState&&(200==d.status?(b.userInfo=JSON.parse(d.responseText),e.setSuccess(b.userInfo)):e.setError())};d.send();return e.promise};b.isTokenExpired=function(a){if(!b.tokenParsed||!b.refreshToken&&"implicit"!=b.flow)throw"Not authenticated";if(null==b.timeSkew)return E("[KEYCLOAK] Unable to determine if token is expired as timeskew is not set"),
    !0;var c=b.tokenParsed.exp-Math.ceil((new Date).getTime()/1E3)+b.timeSkew;if(a){if(isNaN(a))throw"Invalid minValidity";c-=a}return 0>c};b.updateToken=function(a){var d=c();if(!b.refreshToken)return d.setError(),d.promise;a=a||5;var f=function(){var c=!1;if(-1==a)c=!0,E("[KEYCLOAK] Refreshing token: forced refresh");else if(!b.tokenParsed||b.isTokenExpired(a))c=!0,E("[KEYCLOAK] Refreshing token: token expired");if(c){var c="grant_type\x3drefresh_token\x26refresh_token\x3d"+b.refreshToken,e=b.endpoints.token();
    A.push(d);if(1==A.length){var f=new XMLHttpRequest;f.open("POST",e,!0);f.setRequestHeader("Content-type","application/x-www-form-urlencoded");f.withCredentials=!0;var c=c+("\x26client_id\x3d"+encodeURIComponent(b.clientId)),h=(new Date).getTime();f.onreadystatechange=function(){if(4==f.readyState)if(200==f.status){E("[KEYCLOAK] Token refreshed");h=(h+(new Date).getTime())/2;var a=JSON.parse(f.responseText);u(a.access_token,a.refresh_token,a.id_token,h);b.onAuthRefreshSuccess&&b.onAuthRefreshSuccess();
    for(a=A.pop();null!=a;a=A.pop())a.setSuccess(!0)}else for(R("[KEYCLOAK] Failed to refresh token"),400==f.status&&b.clearToken(),b.onAuthRefreshError&&b.onAuthRefreshError(),a=A.pop();null!=a;a=A.pop())a.setError(!0)};f.send(c)}}else d.setSuccess(!1)};e.enable?G().then(function(){f()}).catch(function(a){d.setError(a)}):f();return d.promise};b.clearToken=function(){b.token&&(u(null,null,null),b.onAuthLogout&&b.onAuthLogout(),b.loginRequired&&b.login())};var O=function(){function a(){for(var a=(new Date).getTime(),
    b=0;b<localStorage.length;b++){var c=localStorage.key(b);if(c&&0==c.indexOf("kc-callback-")){var d=localStorage.getItem(c);if(d)try{var e=JSON.parse(d).expires;(!e||e<a)&&localStorage.removeItem(c)}catch(S){localStorage.removeItem(c)}}}}if(!(this instanceof O))return new O;localStorage.setItem("kc-test","test");localStorage.removeItem("kc-test");this.get=function(b){if(b){b="kc-callback-"+b;var c=localStorage.getItem(b);c&&(localStorage.removeItem(b),c=JSON.parse(c));a();return c}};this.add=function(b){a();
    var c="kc-callback-"+b.state;b.expires=(new Date).getTime()+36E5;localStorage.setItem(c,JSON.stringify(b))}},P=function(){if(!(this instanceof P))return new P;this.get=function(c){if(c){var d;a:{d="kc-callback-"+c+"\x3d";for(var e=document.cookie.split(";"),f=0;f<e.length;f++){for(var g=e[f];" "==g.charAt(0);)g=g.substring(1);if(0==g.indexOf(d)){d=g.substring(d.length,g.length);break a}}d=""}b("kc-callback-"+c,"",a(-100));if(d)return JSON.parse(d)}};this.add=function(c){b("kc-callback-"+c.state,JSON.stringify(c),
    a(60))};this.removeItem=function(c){b(c,"",a(-100))};var a=function(a){var b=new Date;b.setTime(b.getTime()+6E4*a);return b},b=function(a,b,c){a=a+"\x3d"+b+"; expires\x3d"+c.toUTCString()+"; ";document.cookie=a}}}if("undefined"===typeof Promise)throw Error("Keycloak requires an environment that supports Promises. Make sure that you include the appropriate polyfill.");var x=!1;return k});